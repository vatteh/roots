<div layout='column'>
    <md-toolbar flex layout='column' layout-align='center center'>
        <h1 class='toolbar-title'>Roots</h1>
        <p class='md-caption'>Discover the influencers of present day musicians</p>
    </md-toolbar>
    <div flex>
        <div class='main' style='text-align: center;'>
            <md-content class='md-padding'>
                <md-autocomplete
                    md-selected-item='ctrl.selectedItem'
                    md-selected-item-change='ctrl.selectedItemChange(item)'
                    md-search-text='ctrl.searchText'
                    md-items='item in ctrl.querySearch(ctrl.searchText)'
                    md-item-text='item.name'
                    md-min-length='1'
                    placeholder='Search for a musician...'
                    ng-disabled='ctrl.gettingArtistRoviId'
                    style='margin-top: 80px;'>
                    <md-item-template>
                        <span class='item-title'>
                            <span md-highlight-text='ctrl.searchText' md-highlight-flags='^i' ng-bind='item.name + ":"'></span>
                        </span>
                        <span class='item-metadata'>
                            <span><strong ng-bind='item.followers | number'></strong> Spotify followers</span>
                        </span>
                    </md-item-template>
                    <md-not-found>
                        <span ng-show='ctrl.searchText' ng-bind='"No musicians matching " + ctrl.searchText + " were found."'></span>
                    </md-not-found>
                </md-autocomplete>
            </md-content>
            <div ng-show='ctrl.gettingArtistRoviId'>
                <p class='md-title' ng-bind='"Fetching data for " + ctrl.selectedItem.name'></p>
                <div layout='row' layout-sm='column' layout-align='space-around'>
                    <md-progress-circular md-mode='indeterminate' md-diameter='40'></md-progress-circular>
                </div>
            </div>
            <p class='md-subhead' ng-show='ctrl.displayNoIdError'>No Rovi ID found for this musician</p>
        </div>
    </div>
    <div flex>
        <h6 class='md-subhead center-text'>Or select a musician below</h6>
        <influnecers artists='ctrl.presentDayArtists'></influnecers>
    </div>
    <div flex>
        <p class='md-caption center-text'>Made by <a href='https://github.com/vatteh'>Victor Atteh</a> & <a href='https://github.com/yuningalexliu'>Alex Liu</a></p>
    </div>
</div>
